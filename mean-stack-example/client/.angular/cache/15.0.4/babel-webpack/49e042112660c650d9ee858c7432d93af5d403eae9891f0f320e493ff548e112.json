{"ast":null,"code":"import { Observable } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../employee.service\";\nimport * as i2 from \"../train.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"../navbar/navbar.component\";\nimport * as i6 from \"../hero/hero.component\";\nconst _c0 = function (a1) {\n  return [\"edit/\", a1];\n};\nfunction EmployeesListComponent_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"button\", 5);\n    i0.ɵɵtext(9, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function EmployeesListComponent_tr_17_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const employee_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteEmployee(employee_r1._id || \"\"));\n    });\n    i0.ɵɵtext(11, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const employee_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.trains.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.trains.position);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.trains.level);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(4, _c0, employee_r1._id));\n  }\n}\nconst _c1 = function () {\n  return [\"new\"];\n};\nexport class EmployeesListComponent {\n  constructor(employeesService, trainService) {\n    this.employeesService = employeesService;\n    this.trainService = trainService;\n    this.employees$ = new Observable();\n    this.trains$ = new Observable();\n  }\n  ngOnInit() {\n    this.fetchEmployees();\n  }\n  deleteEmployee(id) {\n    this.employeesService.deleteEmployee(id).subscribe({\n      next: () => this.fetchEmployees()\n    });\n  }\n  fetchEmployees() {\n    this.trains$ = this.trainService.getTrains();\n    //  this.employees$ = this.employeesService.getEmployees();\n    //  console.log(this.employees$);\n  }\n}\n\nEmployeesListComponent.ɵfac = function EmployeesListComponent_Factory(t) {\n  return new (t || EmployeesListComponent)(i0.ɵɵdirectiveInject(i1.EmployeeService), i0.ɵɵdirectiveInject(i2.TrainService));\n};\nEmployeesListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EmployeesListComponent,\n  selectors: [[\"app-employees-list\"]],\n  decls: 21,\n  vars: 5,\n  consts: [[1, \"container-md\"], [1, \"text-center\", \"m-5\"], [1, \"table\", \"table-striped\", \"table-bordered\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-primary\", \"mt-3\", 3, \"routerLink\"], [1, \"btn\", \"btn-primary\", \"me-1\", 3, \"routerLink\"], [1, \"btn\", \"btn-danger\", 3, \"click\"]],\n  template: function EmployeesListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-navbar\")(1, \"app-hero\");\n      i0.ɵɵelementStart(2, \"div\", 0)(3, \"h2\", 1);\n      i0.ɵɵtext(4, \"Train List\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"table\", 2)(6, \"thead\")(7, \"tr\")(8, \"th\");\n      i0.ɵɵtext(9, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"th\");\n      i0.ɵɵtext(11, \"Position\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\");\n      i0.ɵɵtext(13, \"Level\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\");\n      i0.ɵɵtext(15, \"Action\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(16, \"tbody\");\n      i0.ɵɵtemplate(17, EmployeesListComponent_tr_17_Template, 12, 6, \"tr\", 3);\n      i0.ɵɵpipe(18, \"async\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(19, \"button\", 4);\n      i0.ɵɵtext(20, \"Add a New Employee\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(17);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(18, 2, ctx.employees$));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(4, _c1));\n    }\n  },\n  dependencies: [i3.NgForOf, i4.RouterLink, i5.NavbarComponent, i6.HeroComponent, i3.AsyncPipe],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"AACA,SAASA,UAAU,QAAQ,MAAM;;;;;;;;;;;;;;ICetBC,0BAAgD;IACxCA,YAAe;IAAAA,iBAAK;IACxBA,0BAAI;IAAAA,YAAmB;IAAAA,iBAAK;IAC5BA,0BAAI;IAAAA,YAAgB;IAAAA,iBAAK;IACzBA,0BAAI;IAC4EA,oBAAI;IAAAA,iBAAS;IACzFA,kCAA4E;IAA7CA;MAAA;MAAA;MAAA;MAAA,OAASA,wDAA+B,EAAE,CAAC;IAAA,EAAC;IAACA,uBAAM;IAAAA,iBAAS;;;;;IAL3FA,eAAe;IAAfA,wCAAe;IACfA,eAAmB;IAAnBA,4CAAmB;IACnBA,eAAgB;IAAhBA,yCAAgB;IAEqBA,eAAsC;IAAtCA,wEAAsC;;;;;;ADV9F,OAAM,MAAOC,sBAAsB;EAIlCC,YAAoBC,gBAAiC,EAASC,YAA0B;IAApE,qBAAgB,GAAhBD,gBAAgB;IAA0B,iBAAY,GAAZC,YAAY;IAH1E,eAAU,GAA2B,IAAIL,UAAU,EAAE;IACrD,YAAO,GAAwB,IAAIA,UAAU,EAAE;EAE6C;EAE5FM,QAAQ;IACN,IAAI,CAACC,cAAc,EAAE;EACvB;EAEAC,cAAc,CAACC,EAAU;IACvB,IAAI,CAACL,gBAAgB,CAACI,cAAc,CAACC,EAAE,CAAC,CAACC,SAAS,CAAC;MACjDC,IAAI,EAAE,MAAM,IAAI,CAACJ,cAAc;KAChC,CAAC;EACJ;EAEQA,cAAc;IACpB,IAAI,CAACK,OAAO,GAAG,IAAI,CAACP,YAAY,CAACQ,SAAS,EAAE;IAC7C;IACA;EACD;;;AApBYX,sBAAsB;mBAAtBA,sBAAsB;AAAA;AAAtBA,sBAAsB;QAAtBA,sBAAsB;EAAAY;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCXnCjB,6BAAyB;MAEzBA,8BAA0B;MACEA,0BAAU;MAAAA,iBAAK;MAExCA,gCAAkD;MAGlCA,oBAAI;MAAAA,iBAAK;MACbA,2BAAI;MAAAA,yBAAQ;MAAAA,iBAAK;MACjBA,2BAAI;MAAAA,sBAAK;MAAAA,iBAAK;MACdA,2BAAI;MAAAA,uBAAM;MAAAA,iBAAK;MAIvBA,8BAAO;MACHA,wEAQK;;MACTA,iBAAQ;MAGZA,kCAA4D;MAAAA,mCAAkB;MAAAA,iBAAS;;;MAZtDA,gBAAqB;MAArBA,+DAAqB;MAYjBA,eAAsB;MAAtBA,uDAAsB","names":["Observable","i0","EmployeesListComponent","constructor","employeesService","trainService","ngOnInit","fetchEmployees","deleteEmployee","id","subscribe","next","trains$","getTrains","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\KASUN\\NSBM 3rd Year\\FullStackDev\\mean-stack-publish\\mean-stack-publish\\mean-stack-example\\client\\src\\app\\employees-list\\employees-list.component.ts","D:\\KASUN\\NSBM 3rd Year\\FullStackDev\\mean-stack-publish\\mean-stack-publish\\mean-stack-example\\client\\src\\app\\employees-list\\employees-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Employee } from '../employee';\nimport { EmployeeService } from '../employee.service';\nimport { Train } from '../train';\nimport { TrainService } from '../train.service';\n \n@Component({\n selector: 'app-employees-list',\n templateUrl: 'employees-list.component.html'\n})\nexport class EmployeesListComponent implements OnInit {\n employees$: Observable<Employee[]> = new Observable();\n trains$: Observable<Train[]> = new Observable();\n\n constructor(private employeesService: EmployeeService,private trainService: TrainService) { }\n \n ngOnInit(): void {\n   this.fetchEmployees();\n }\n \n deleteEmployee(id: string): void {\n   this.employeesService.deleteEmployee(id).subscribe({\n     next: () => this.fetchEmployees()\n   });\n }\n \n private fetchEmployees(): void {\n   this.trains$ = this.trainService.getTrains();\n  //  this.employees$ = this.employeesService.getEmployees();\n  //  console.log(this.employees$);\n }\n}","<app-navbar></app-navbar>\r\n<app-hero></app-hero>\r\n<div class=\"container-md\">\r\n<h2 class=\"text-center m-5\">Train List</h2>\r\n \r\n   <table class=\"table table-striped table-bordered\">\r\n       <thead>\r\n           <tr>\r\n               <th>Name</th>\r\n               <th>Position</th>\r\n               <th>Level</th>\r\n               <th>Action</th>\r\n           </tr>\r\n       </thead>\r\n \r\n       <tbody>\r\n           <tr *ngFor=\"let employee of employees$ | async\">\r\n               <td>{{trains.name}}</td>\r\n               <td>{{trains.position}}</td>\r\n               <td>{{trains.level}}</td>\r\n               <td>\r\n                   <button class=\"btn btn-primary me-1\" [routerLink]=\"['edit/', employee._id]\">Edit</button>\r\n                   <button class=\"btn btn-danger\" (click)=\"deleteEmployee(employee._id || '')\">Delete</button>\r\n               </td>\r\n           </tr>\r\n       </tbody>\r\n   </table>\r\n \r\n   <button class=\"btn btn-primary mt-3\" [routerLink]=\"['new']\">Add a New Employee</button>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}