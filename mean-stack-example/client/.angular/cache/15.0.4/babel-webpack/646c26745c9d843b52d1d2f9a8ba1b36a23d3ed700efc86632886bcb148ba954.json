{"ast":null,"code":"import { FormControl } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../test.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction SquareComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 6);\n  }\n}\nexport class SquareComponent {\n  constructor(wsService) {\n    this.wsService = wsService;\n    this.nameControl = new FormControl('');\n    this.items = Array.from(Array(0).keys());\n    //<div class=\"square\" *ngFor=\"let square of squares\"></div>\n    // You can use properties and methods here to keep track of the state of the square\n    this.clientID = \"\";\n    this.GameID = \"\";\n    this.playerColor = \"\";\n    this.game = null;\n    this.wsService.receive().subscribe(message => {\n      if (message.method == \"connect\") {\n        this.clientID = message.clientId;\n        console.log(\"Connected\");\n        console.log(message.clientId);\n      }\n      ;\n      if (message.method == \"create\") {\n        this.GameID = message.game.id;\n        console.log(\"New Game Created\");\n        this.items = Array.from(Array(0).keys());\n        console.log(message.game);\n      }\n      ;\n      if (message.method == \"join\") {\n        this.GameID = message.game.id;\n        this.game = message.game.clients;\n        console.log(\"You joined Successfully\");\n        console.log(message.game);\n        message.game.clients.forEach(num => {\n          console.log(\"row\");\n          if (num.id == this.clientID) {\n            console.log(num);\n            this.playerColor = num.color;\n            console.log(this.playerColor);\n          }\n        });\n      }\n      ;\n    });\n  }\n  send() {\n    const payLoad = {\n      method: 'create',\n      clientId: this.clientID\n    };\n    this.wsService.send(payLoad);\n  }\n  join() {\n    const payLoad = {\n      method: 'join',\n      clientId: this.clientID,\n      gameId: this.nameControl.value\n    };\n    this.wsService.send(payLoad);\n  }\n  clickOnSeat() {\n    const payLoad = {\n      method: 'play',\n      clientId: this.clientID,\n      gameId: this.nameControl.value,\n      ballId: 1,\n      color: \"blue\"\n    };\n    this.wsService.send(payLoad);\n  }\n}\nSquareComponent.ɵfac = function SquareComponent_Factory(t) {\n  return new (t || SquareComponent)(i0.ɵɵdirectiveInject(i1.TestService));\n};\nSquareComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SquareComponent,\n  selectors: [[\"app-square\"]],\n  decls: 10,\n  vars: 2,\n  consts: [[\"id\", \"btnCreate\", 3, \"click\"], [\"id\", \"btnJoin\", 3, \"click\"], [\"type\", \"text\", \"id\", \"txtGameId\", 3, \"formControl\"], [\"id\", \"divPlayers\"], [\"id\", \"left-hand\", 1, \"left-hand\"], [\"class\", \"square\", 4, \"ngFor\", \"ngForOf\"], [1, \"square\"]],\n  template: function SquareComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"button\", 0);\n      i0.ɵɵlistener(\"click\", function SquareComponent_Template_button_click_0_listener() {\n        return ctx.send();\n      });\n      i0.ɵɵtext(1, \"New Game\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function SquareComponent_Template_button_click_2_listener() {\n        return ctx.join();\n      });\n      i0.ɵɵtext(3, \"Join Game\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(4, \"input\", 2)(5, \"div\", 3);\n      i0.ɵɵelementStart(6, \"div\")(7, \"div\", 4);\n      i0.ɵɵtemplate(8, SquareComponent_div_8_Template, 1, 0, \"div\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(9, \"div\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"formControl\", ctx.nameControl);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.items);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.FormControlDirective],\n  styles: [\".square[_ngcontent-%COMP%] {\\r\\n    width: 100px;\\r\\n    height: 100px;\\r\\n    background-color: red;\\r\\n    margin-top: 10px;\\r\\n    margin-right: 10px;\\r\\n    float: right;\\r\\n  }\\r\\n\\r\\n  .left-hand[_ngcontent-%COMP%]{\\r\\n    margin-bottom: 20px;\\r\\n  }\\r\\n\\r\\n  .right-hand[_ngcontent-%COMP%]{\\r\\n    margin-top: 20px;\\r\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc2VhdC1vcmRlci9zcXVhcmUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFlBQVk7SUFDWixhQUFhO0lBQ2IscUJBQXFCO0lBQ3JCLGdCQUFnQjtJQUNoQixrQkFBa0I7SUFDbEIsWUFBWTtFQUNkOztFQUVBO0lBQ0UsbUJBQW1CO0VBQ3JCOztFQUVBO0lBQ0UsZ0JBQWdCO0VBQ2xCIiwic291cmNlc0NvbnRlbnQiOlsiLnNxdWFyZSB7XHJcbiAgICB3aWR0aDogMTAwcHg7XHJcbiAgICBoZWlnaHQ6IDEwMHB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xyXG4gICAgbWFyZ2luLXRvcDogMTBweDtcclxuICAgIG1hcmdpbi1yaWdodDogMTBweDtcclxuICAgIGZsb2F0OiByaWdodDtcclxuICB9XHJcblxyXG4gIC5sZWZ0LWhhbmR7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gIH1cclxuXHJcbiAgLnJpZ2h0LWhhbmR7XHJcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xyXG4gIH0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","i0","SquareComponent","constructor","wsService","Array","from","keys","receive","subscribe","message","method","clientID","clientId","console","log","GameID","game","id","items","clients","forEach","num","playerColor","color","send","payLoad","join","gameId","nameControl","value","clickOnSeat","ballId","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\KASUN\\NSBM 3rd Year\\FullStackDev\\mean\\mean-stack-example\\client\\src\\app\\seat-order\\seat-order.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { TestService } from '../test.service';\nimport { FormControl } from '@angular/forms';\n\n@Component({\n  selector: 'app-square',\n  template: `    <button id = 'btnCreate' (click)=\"send()\">New Game</button>\n                 <button id = 'btnJoin' (click)=\"join()\">Join Game</button>\n                 <input type = 'text' [formControl]=\"nameControl\" id = 'txtGameId'>\n                 <div id  = 'divPlayers'></div>\n                 <div>\n                 <div id ='left-hand' class=\"left-hand\">\n                      <div class='square'  *ngFor=\"let item of items\"></div>                 \n                 </div>\n                 <div>\n  `,\n  styleUrls: ['square.component.css']\n})\nexport class SquareComponent {\n  nameControl = new FormControl('');\n  items =Array.from(Array(0).keys());\n  //<div class=\"square\" *ngFor=\"let square of squares\"></div>\n  // You can use properties and methods here to keep track of the state of the square\n   private clientID=\"\";\n   private GameID=\"\";\n   private playerColor=\"\";\n   private game=null;\n   constructor(private wsService: TestService) {\n    this.wsService.receive().subscribe(message => {\n      if(message.method==\"connect\"){\n        this.clientID=message.clientId;\n        console.log(\"Connected\");\n        console.log(message.clientId);\n\n      };\n      if(message.method==\"create\"){\n        this.GameID=message.game.id;\n        console.log(\"New Game Created\");\n        this.items =Array.from(Array(0).keys());\n        console.log(message.game);\n\n      };\n      if(message.method==\"join\"){\n        this.GameID=message.game.id;\n        this.game=message.game.clients;\n        console.log(\"You joined Successfully\");\n        console.log(message.game);\n        \n        message.game.clients.forEach((num: any) => {\n          console.log(\"row\");\n          if(num.id==this.clientID){\n            console.log(num);\n            this.playerColor=num.color\n            console.log(this.playerColor);\n          }\n        });\n\n      };\n    });\n  }\n\n\n  send() {\n    const payLoad = {\n      method: 'create',\n      clientId: this.clientID,\n    };\n    this.wsService.send(payLoad);\n  }\n\n  join() {\n\n    const payLoad = {\n      method: 'join',\n      clientId: this.clientID,\n      gameId:this.nameControl.value,\n    };\n    this.wsService.send(payLoad);\n  }\n\n  clickOnSeat() {\n\n    const payLoad = {\n      method: 'play',\n      clientId: this.clientID,\n      gameId:this.nameControl.value,\n      ballId:1,\n      color:\"blue\"\n    };\n    this.wsService.send(payLoad);\n  }\n\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}