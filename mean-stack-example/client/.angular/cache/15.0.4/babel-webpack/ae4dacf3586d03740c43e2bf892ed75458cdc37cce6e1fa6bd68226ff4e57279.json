{"ast":null,"code":"import * as i0 from \"@angular/core\";\nconst _c0 = [\"canvas\"];\nexport class CanvasComponent {\n  constructor() {\n    this.isDrawing = false;\n    this.lastX = 0;\n    this.lastY = 0;\n    this.color = 'red';\n  }\n  ngAfterViewInit() {\n    if (this.canvas) {\n      this.ctx = this.canvas.nativeElement.getContext('2d');\n      this.canvas.nativeElement.width = this.canvas.nativeElement.offsetWidth;\n      this.canvas.nativeElement.height = this.canvas.nativeElement.offsetHeight;\n    }\n  }\n  startDrawing(lastX, lastY) {\n    if (this.canvas) {\n      const rect = this.canvas.nativeElement.getBoundingClientRect();\n    }\n    this.isDrawing = true;\n    this.lastX = lastX;\n    this.lastY = lastY;\n    console.log(\"start drawing\");\n  }\n  draw(lastX, lastY) {\n    if (!this.isDrawing) {\n      return;\n    }\n    if (this.ctx) {\n      console.log(\" drawing\");\n      this.ctx.strokeStyle = this.color;\n      this.ctx.fillStyle = this.color;\n      this.ctx.lineWidth = 13;\n      this.ctx.beginPath();\n      console.log(this.lastX + \",\" + this.lastY);\n      this.ctx.moveTo(this.lastX - 300, this.lastY);\n      console.log(event.clientX + \",\" + event.clientY);\n      this.ctx.lineTo(event.clientX - 300, event.clientY);\n      this.ctx.stroke();\n    }\n    this.lastX = event.clientX;\n    this.lastY = event.clientY;\n  }\n  stopDrawing() {\n    console.log(\"stop drawing\");\n    this.isDrawing = false;\n  }\n  mouseDown(event) {\n    this.startDrawing(event.clientX, event.clientY);\n  }\n  mouseUp(event) {}\n  mouseMove() {}\n}\nCanvasComponent.ɵfac = function CanvasComponent_Factory(t) {\n  return new (t || CanvasComponent)();\n};\nCanvasComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CanvasComponent,\n  selectors: [[\"app-canvas\"]],\n  viewQuery: function CanvasComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.canvas = _t.first);\n    }\n  },\n  decls: 2,\n  vars: 0,\n  consts: [[\"id\", \"drawing-canvas\", 1, \"canvas-border\", 3, \"mousedown\", \"mousemove\", \"mouseup\"], [\"canvas\", \"\"]],\n  template: function CanvasComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"canvas\", 0, 1);\n      i0.ɵɵlistener(\"mousedown\", function CanvasComponent_Template_canvas_mousedown_0_listener($event) {\n        return ctx.mouseDown($event);\n      })(\"mousemove\", function CanvasComponent_Template_canvas_mousemove_0_listener($event) {\n        return ctx.draw($event);\n      })(\"mouseup\", function CanvasComponent_Template_canvas_mouseup_0_listener() {\n        return ctx.stopDrawing();\n      });\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\".canvas-border[_ngcontent-%COMP%] {\\n    border: 1px solid black;\\n    color: red !important;\\n    width:100%;\\n    height:800px;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY2FudmFzL2NhbnZhcy5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSx1QkFBdUI7SUFDdkIscUJBQXFCO0lBQ3JCLFVBQVU7SUFDVixZQUFZO0VBQ2QiLCJzb3VyY2VzQ29udGVudCI6WyIuY2FudmFzLWJvcmRlciB7XG4gICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XG4gICAgY29sb3I6IHJlZCAhaW1wb3J0YW50O1xuICAgIHdpZHRoOjEwMCU7XG4gICAgaGVpZ2h0OjgwMHB4O1xuICB9Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;AAgBA,OAAM,MAAOA,eAAe;EAd5BC;IAiBU,cAAS,GAAG,KAAK;IACjB,UAAK,GAAG,CAAC;IACT,UAAK,GAAG,CAAC;IACjB,UAAK,GAAG,KAAK;;EAEbC,eAAe;IACb,IAAG,IAAI,CAACC,MAAM,EAAE;MACd,IAAI,CAACC,GAAG,GAAG,IAAI,CAACD,MAAM,CAACE,aAAa,CAACC,UAAU,CAAC,IAAI,CAAC;MACrD,IAAI,CAACH,MAAM,CAACE,aAAa,CAACE,KAAK,GAAG,IAAI,CAACJ,MAAM,CAACE,aAAa,CAACG,WAAW;MACvE,IAAI,CAACL,MAAM,CAACE,aAAa,CAACI,MAAM,GAAG,IAAI,CAACN,MAAM,CAACE,aAAa,CAACK,YAAY;;EAG7E;EAEAC,YAAY,CAACC,KAAa,EAACC,KAAa;IACtC,IAAG,IAAI,CAACV,MAAM,EAAE;MAChB,MAAMW,IAAI,GAAG,IAAI,CAACX,MAAM,CAACE,aAAa,CAACU,qBAAqB,EAAE;;IAE9D,IAAI,CAACC,SAAS,GAAG,IAAI;IACrB,IAAI,CAACJ,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,KAAK,GAAGA,KAAK;IAElBI,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;EAC9B;EAEAC,IAAI,CAACP,KAAa,EAACC,KAAa;IAE9B,IAAI,CAAC,IAAI,CAACG,SAAS,EAAE;MACnB;;IAEF,IAAG,IAAI,CAACZ,GAAG,EAAC;MACVa,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;MACvB,IAAI,CAACd,GAAG,CAACgB,WAAW,GAAG,IAAI,CAACC,KAAK;MACjC,IAAI,CAACjB,GAAG,CAACkB,SAAS,GAAC,IAAI,CAACD,KAAK;MAC7B,IAAI,CAACjB,GAAG,CAACmB,SAAS,GAAG,EAAE;MACvB,IAAI,CAACnB,GAAG,CAACoB,SAAS,EAAE;MACpBP,OAAO,CAACC,GAAG,CAAC,IAAI,CAACN,KAAK,GAAC,GAAG,GAAC,IAAI,CAACC,KAAK,CAAC;MACtC,IAAI,CAACT,GAAG,CAACqB,MAAM,CAAC,IAAI,CAACb,KAAK,GAAC,GAAG,EAAE,IAAI,CAACC,KAAK,CAAC;MAC3CI,OAAO,CAACC,GAAG,CAACQ,KAAK,CAACC,OAAO,GAAC,GAAG,GAACD,KAAK,CAACE,OAAO,CAAC;MAC5C,IAAI,CAACxB,GAAG,CAACyB,MAAM,CAACH,KAAK,CAACC,OAAO,GAAC,GAAG,EAAED,KAAK,CAACE,OAAO,CAAC;MACjD,IAAI,CAACxB,GAAG,CAAC0B,MAAM,EAAE;;IAEnB,IAAI,CAAClB,KAAK,GAAGc,KAAK,CAACC,OAAO;IAC1B,IAAI,CAACd,KAAK,GAAGa,KAAK,CAACE,OAAO;EAC5B;EAEAG,WAAW;IACTd,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;IAC3B,IAAI,CAACF,SAAS,GAAG,KAAK;EACxB;EAGAgB,SAAS,CAACN,KAAiB;IACzB,IAAI,CAACf,YAAY,CAACe,KAAK,CAACC,OAAO,EAACD,KAAK,CAACE,OAAO,CAAC;EAChD;EACAK,OAAO,CAACP,KAAiB,GAEzB;EAEAQ,SAAS,IAET;;AAhEWlC,eAAe;mBAAfA,eAAe;AAAA;AAAfA,eAAe;QAAfA,eAAe;EAAAmC;EAAAC;IAAA;;;;;;;;;;;;;MAV1BC,oCAA+I;MAArFA;QAAA,OAAajC,qBAAiB;MAAA,EAAC;QAAA,OAAcA,gBAAY;MAAA,EAA1B;QAAA,OAAuCA,iBAAa;MAAA,EAApD;MAAsDiC,iBAAS","names":["CanvasComponent","constructor","ngAfterViewInit","canvas","ctx","nativeElement","getContext","width","offsetWidth","height","offsetHeight","startDrawing","lastX","lastY","rect","getBoundingClientRect","isDrawing","console","log","draw","strokeStyle","color","fillStyle","lineWidth","beginPath","moveTo","event","clientX","clientY","lineTo","stroke","stopDrawing","mouseDown","mouseUp","mouseMove","selectors","viewQuery","i0"],"sourceRoot":"","sources":["D:\\KASUN\\NSBM 3rd Year\\FullStackDev\\mean\\mean-stack-example\\client\\src\\app\\canvas\\canvas.component.ts"],"sourcesContent":["import { Component, ViewChild, ElementRef } from '@angular/core';\n\n@Component({\n  selector: 'app-canvas',\n  template: `\n\n  <canvas #canvas id=\"drawing-canvas\" class=\"canvas-border\" (mousedown)=\"mouseDown($event)\" (mousemove)=\"draw($event)\" (mouseup)=\"stopDrawing()\"></canvas>\n  `,\n  styles: [`.canvas-border {\n    border: 1px solid black;\n    color: red !important;\n    width:100%;\n    height:800px;\n  }`\n  ]\n})\nexport class CanvasComponent {\n  @ViewChild('canvas', { static: true }) canvas?: ElementRef;\n  private ctx?: CanvasRenderingContext2D;\n  private isDrawing = false;\n  private lastX = 0;\n  private lastY = 0;\n  color = 'red';\n  \n  ngAfterViewInit() {\n    if(this.canvas) {\n      this.ctx = this.canvas.nativeElement.getContext('2d');\n      this.canvas.nativeElement.width = this.canvas.nativeElement.offsetWidth;\n      this.canvas.nativeElement.height = this.canvas.nativeElement.offsetHeight;\n      \n  }\n  }\n\n  startDrawing(lastX: number,lastY: number) {\n    if(this.canvas) {\n    const rect = this.canvas.nativeElement.getBoundingClientRect();\n    }\n    this.isDrawing = true;\n    this.lastX = lastX;\n    this.lastY = lastY;\n    \n    console.log(\"start drawing\");\n  }\n\n  draw(lastX: number,lastY: number,) {\n   \n    if (!this.isDrawing) {\n      return;\n    }\n    if(this.ctx){\n      console.log(\" drawing\");\n      this.ctx.strokeStyle = this.color;\n      this.ctx.fillStyle=this.color;\n      this.ctx.lineWidth = 13;\n      this.ctx.beginPath();  \n      console.log(this.lastX+\",\"+this.lastY);\n      this.ctx.moveTo(this.lastX-300, this.lastY);\n      console.log(event.clientX+\",\"+event.clientY);\n      this.ctx.lineTo(event.clientX-300, event.clientY);\n      this.ctx.stroke();\n    }\n    this.lastX = event.clientX;\n    this.lastY = event.clientY;\n  }\n\n  stopDrawing() {\n    console.log(\"stop drawing\");\n    this.isDrawing = false;\n  }\n\n\n  mouseDown(event: MouseEvent){\n    this.startDrawing(event.clientX,event.clientY);\n  }\n  mouseUp(event: MouseEvent){\n\n  }\n\n  mouseMove(){\n    \n  }\n\n\n\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}